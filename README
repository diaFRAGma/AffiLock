World of Warcraft 1.12.1 Addon für Affliction Warlock (Gebrechens Hexenmeister)

Im Spiel muss ein Makro angelegt werden mit folgendem Inhalt:
/run AffiLock()
Wenn das Makro durch betätigen des Knopfes ausgelöst wird, laufen folgende Entscheidungen ab:

1. Wenn Dämonenrüstung auf dem Hexenmeister ausgelaufen ist wird diese erneuert.
2. Todesmantel wenn Ziel nicht auf Pet sondern auf Player aggro ist.
3. Das Pet greift das Ziel an.
4. Wenn Lebensentzug nicht auf dem Target drauf ist wird es gesetzt.
5. Wenn der Hexenmeister wenig Leben hat wird Blutsauger genutzt.
6. Wenn das Pet des Hexers wenig Leben hat wird Lebenslinie genutzt.
7. Bevor Fluch der Pein gesetzt wird wird Fluch verstärken aktiviert wenn es frei ist.
8. Wenn Fluch der Pein nicht auf dem Target aktiv ist wird es gesetzt.
9. Wenn Verderbnis nicht auf dem Target aktiv ist wird es gesetzt.
10. Wenn Feuerbrand nicht auf dem Target aktiv ist wird es gesetzt.
11. Wenn alle Dots sitzen wird Schattenblitz gecastet.

Zukünftige Features:
2. Schattenbrand kurz vorm Tod des Mobs nutzen

Abhängikeiten:
Das Addon IsBuffActive wird benötigt um festzustellen welche Dots auf dem Mob schon aktiv sind.

Nützliche Links:
World of Warcraft 1.12.1 API
http://vanilla-wow.wikia.com/wiki/World_of_Warcraft_API
http://www.wowwiki.com/index.php?title=World_of_Warcraft_API&oldid=281620
Programming in Lua
http://www.lua.org/pil/contents.html